library(rvest)
webpage <- read_html("http://brandirectory.com/league_tables/table/global-500-2018")
xdata <- webpage %>% html_nodes("tbody tr")
DataX = NULL
for (i in 1:length(xdata)){
tmp <- xdata[i] %>% html_nodes("td")
rank17 <- tmp[1] %>% html_nodes("span") %>% html_text()
rank16 <- tmp[2] %>% html_text()  %>% as.numeric()
logo <- tmp[3] %>% html_nodes("img") %>% xml_attr("src")
company <- tmp[4] %>% html_text()
flag <- tmp[5] %>% html_nodes("img") %>% xml_attr("src")
value17 <- tmp[6] %>% html_nodes(".h") %>% html_text()
if(!length( value17))  value17 = NA
value16 <- tmp[7] %>% html_nodes(".h") %>% html_text()
if(!length(value16)) value16 = NA
rate17 <- tmp[8] %>% html_nodes("span") %>% html_text()
if(!length(rate17)) rate17 = NA
rate16 <- tmp[9] %>% html_nodes("span") %>% html_text()
if(!length(rate16)) rate16 = NA
DataX = rbind(DataX, c(rank17, rank16, company, logo, flag,
value17,value16, rate17, rate16))
}
# xname <- webpage %>% html_nodes(".col-sm-9 .main th") %>% html_text()
colnames(DataX) = c("Rank17", "Rank16", "Company", "Logo", "Flag",
"Value17", "Value16", "Rate17", "Rate16")
head(DataX)
xdata
library(rvest)
webpage <- read_html("http://brandirectory.com/league_tables/table/global-500-2018")
xdata <- webpage %>% html_nodes("tbody tr")
DataX = NULL
length(xdata)
library(rvest)
thisurl = "https://brandirectory.com/rankings/global/table"
webpage <- read_html(thisurl)
# Inspect the webpage
xdata <- webpage %>% html_nodes("body tbody")
length(xdata)
head(xdata)
print.AsIs(xdata[1])
DataX = NULL
for (i in 1:length(xdata)){
tmp <- xdata[i] %>% html_nodes("td")
rank20 <- tmp[1] %>% html_text()  %>% as.numeric()
rank19 <- tmp[2] %>% html_text()  %>% as.numeric()
# logo <- tmp[3] %>% html_nodes("img") %>% xml_attr("src")
company <- tmp[3] %>% html_text()
company = trimws(gsub("\n", "", company))
country <- tmp[4] %>% html_text()
country = trimws(gsub("\n", "", country))
# flag <- tmp[5] %>% html_nodes("img") %>% xml_attr("src")
value20 <- tmp[5] %>% html_nodes("span") %>% html_text()
value19 <- tmp[6] %>% html_nodes("span") %>% html_text()
rate20 <- tmp[7] %>% html_text()
rate20 = trimws(gsub("\n", "", rate20))
rate19 <- tmp[8] %>% html_text()
rate19 = trimws(gsub("\n", "", rate19))
DataX = rbind(DataX, c(rank20, rank20, company, country,
value20, value19, rate20, rate19))
}
DataX
thisurl = "https://brandirectory.com/rankings/global/table"
webpage <- read_html(thisurl)
# Inspect the webpage
xdata <- webpage %>% html_nodes("body tbody")
DataX = NULL
for (i in 1:length(xdata)){
tmp <- xdata[i] %>% html_nodes("td")
rank21 <- tmp[1] %>% html_text()  %>% as.numeric()
rank20 <- tmp[2] %>% html_text()  %>% as.numeric()
logo <- tmp[3] %>% html_nodes("img") %>% xml_attr("src")
company <- tmp[3] %>% html_text()
company = trimws(gsub("\n", "", company))
country <- tmp[4] %>% html_text()
country = trimws(gsub("\n", "", country))
flag <- tmp[5] %>% html_nodes("img") %>% xml_attr("src")
value21 <- tmp[5] %>% html_nodes("span") %>% html_text()
value20 <- tmp[6] %>% html_nodes("span") %>% html_text()
rate21 <- tmp[7] %>% html_text()
rate21 = trimws(gsub("\n", "", rate21))
rate20 <- tmp[8] %>% html_text()
rate20 = trimws(gsub("\n", "", rate20))
DataX = rbind(DataX, c(rank21, rank20,logo, company, country,flag, value21, value20, rate21, rate20))
}
head(DataX)
logo
flag
thisurl = "https://brandirectory.com/rankings/global/table"
webpage <- read_html(thisurl)
# Inspect the webpage
xdata <- webpage %>% html_nodes("body tbody")
DataX = NULL
for (i in 1:length(xdata)){
tmp <- xdata[i] %>% html_nodes("td")
rank21 <- tmp[1] %>% html_text()  %>% as.numeric()
rank20 <- tmp[2] %>% html_text()  %>% as.numeric()
logo <- tmp[3] %>% html_nodes("img") %>% xml_attr("src")
company <- tmp[3] %>% html_text()
company = trimws(gsub("\n", "", company))
country <- tmp[4] %>% html_text()
country = trimws(gsub("\n", "", country))
flag <- tmp[5] %>% html_nodes("img") %>% xml_attr("src")
value21 <- tmp[5] %>% html_nodes("span") %>% html_text()
value20 <- tmp[6] %>% html_nodes("span") %>% html_text()
rate21 <- tmp[7] %>% html_text()
rate21 = trimws(gsub("\n", "", rate21))
rate20 <- tmp[8] %>% html_text()
rate20 = trimws(gsub("\n", "", rate20))
DataX = rbind(DataX, c(rank21, rank20,logo, company, country,flag, value21, value20, rate21, rate20))
}
flag
logo
tmp
thisurl = "https://brandirectory.com/rankings/global/table"
webpage <- read_html(thisurl)
# Inspect the webpage
xdata <- webpage %>% html_nodes("body tbody")
xdata
library(rvest)
webpage <- read_html("https://brandirectory.com/rankings/global/table")
xdata <- webpage %>% html_nodes("tbody tr")
DataX = NULL
for (i in 1:length(xdata)){
tmp <- xdata[i] %>% html_nodes("td")
rank17 <- tmp[1] %>% html_nodes("span") %>% html_text()
rank16 <- tmp[2] %>% html_text()  %>% as.numeric()
logo <- tmp[3] %>% html_nodes("img") %>% xml_attr("src")
company <- tmp[4] %>% html_text()
flag <- tmp[5] %>% html_nodes("img") %>% xml_attr("src")
value17 <- tmp[6] %>% html_nodes(".h") %>% html_text()
if(!length( value17))  value17 = NA
value16 <- tmp[7] %>% html_nodes(".h") %>% html_text()
if(!length(value16)) value16 = NA
rate17 <- tmp[8] %>% html_nodes("span") %>% html_text()
if(!length(rate17)) rate17 = NA
rate16 <- tmp[9] %>% html_nodes("span") %>% html_text()
if(!length(rate16)) rate16 = NA
DataX = rbind(DataX, c(rank17, rank16, company, logo, flag,
value17,value16, rate17, rate16))
}
library(rvest)
webpage <- read_html("https://brandirectory.com/rankings/global/table")
xdata <- webpage %>% html_nodes("tbody tr")
DataX = NULL
xdata
tmp <- xdata[i] %>% html_nodes("td")
rank17 <- tmp[1] %>% html_nodes("span") %>% html_text()
rank16 <- tmp[2] %>% html_text()  %>% as.numeric()
logo <- tmp[3] %>% html_nodes("img") %>% xml_attr("src")
logo
tmp
library(rvest)
thisurl = "https://brandirectory.com/rankings/global/table"
webpage <- read_html(thisurl)
# Inspect the webpage
xdata <- webpage %>% html_nodes("body tbody")
DataX = NULL
for (i in 1:length(xdata)){
tmp <- xdata[i] %>% html_nodes("td")
rank21 <- tmp[1] %>% html_text()  %>% as.numeric()
rank20 <- tmp[2] %>% html_text()  %>% as.numeric()
logo <- tmp[3] %>% html_nodes("img") %>% xml_attr("src")
company <- tmp[3] %>% html_text()
company = trimws(gsub("\n", "", company))
country <- tmp[4] %>% html_text()
country = trimws(gsub("\n", "", country))
flag <- tmp[5] %>% html_nodes("img") %>% xml_attr("src")
value21 <- tmp[5] %>% html_nodes("span") %>% html_text()
value20 <- tmp[6] %>% html_nodes("span") %>% html_text()
rate21 <- tmp[7] %>% html_text()
rate21 = trimws(gsub("\n", "", rate21))
rate20 <- tmp[8] %>% html_text()
rate20 = trimws(gsub("\n", "", rate20))
DataX = rbind(DataX, c(rank21, rank20,logo, company, country,flag, value21, value20, rate21, rate20))
}
logo
temp
tmp
country
flag
thisurl = "https://brandirectory.com/rankings/global/table"
webpage <- read_html(thisurl)
# Inspect the webpage
xdata <- webpage %>% html_nodes("tbody tr")
DataX = NULL
tmp <- xdata[i] %>% html_nodes("td")
tmp
thisurl = "https://brandirectory.com/rankings/global/table"
webpage <- read_html(thisurl)
# Inspect the webpage
xdata <- webpage %>% html_nodes("tr")
DataX = NULL
tmp <- xdata[i] %>% html_nodes("td")
tmp
install.packages("animation")
